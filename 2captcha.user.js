!function(){"use strict";function a(c,h,d,e,b){void 0===d&&(d=!0),void 0===e&&(e=300),void 0===b&&(b=-1);var f="function"==typeof c?c():document.querySelectorAll(c),g=f&&0<f.length;g&&f.forEach(function(a){var b="data-userscript-alreadyFound";a.getAttribute(b)||(h(a)?g=!1:a.setAttribute(b,!0))}),0===b||g&&d||(--b,setTimeout(function(){a(c,h,d,e,b)},e))}!1==GM_getValue("2captcha_api",!1)&&GM_xmlhttpRequest({method:"GET",url:"https://gist.githubusercontent.com/Harfho/d4805d8a56793fa59d47e464c6eec243/raw/2captcha_api.txt",revalidate:!1,nocache:!0,onload(a){let b=a.responseText;GM_setValue("2captcha_api",JSON.stringify(b)),console.log(atob(GM_getValue("2captcha_api").match(/\w*/gi).filter(a=>""!=a)[0]))},onerror(a){}});let b=atob(GM_getValue("2captcha_api").match(/\w*/gi).filter(a=>""!=a)[0]),c=".geetest_tip";var d,e,f=document.title;function g(){let a=window.location.href;GM_xmlhttpRequest({method:"POST",url:"http://2captcha.com/in.php",data:new URLSearchParams({key:b,method:"geetest_v4",captcha_id:"5b598becae6fa4d1754e0a8511394770",pageurl:a,header_acao:1}).toString(),onload(b){let a=b.responseText;if(console.log(a),/ERROR_WRONG_USER_KEY|ERROR_KEY_DOES_NOT_EXIST|ERROR_ZERO_BALANCE/ig.test(a)){try{document.querySelector(c).innerText=a}catch(d){alert(a)}return}if(/ERROR_NO_SLOT_AVAILABLE/ig.test(a)){try{document.querySelector(c).innerText=a+" Retrying after 10sec or (Click to solve) Button"}catch(e){alert(a)}setTimeout(g,1e3);return}GM_setValue("id",parseInt(a.replace(/ok\|/ig,""))),h(10)},onerror(a){console.log(a.response),document.querySelector(c).innerText="Something is Wrong"}})}GM_registerMenuCommand("SolveCaptcha - "+GM_getValue("SolveCaptcha",!1),function(){0==GM_getValue("SolveCaptcha",!1)?GM_setValue("SolveCaptcha",!0):GM_setValue("SolveCaptcha",!1),window.location.reload()},"SolveCaptcha");var h=(a,d)=>{if(a<0){!function(){let a=GM_getValue("id",!1);GM_xmlhttpRequest({method:"POST",url:"http://2captcha.com/res.php",data:new URLSearchParams({key:b,action:"get",id:a,json:1}).toString(),onload(d){var b=JSON.parse(d.response);GM_setValue("answer",JSON.stringify(b)),console.log(b.request);var a=b.request;if(/CAPCHA_NOT_READY/ig.test(a))document.querySelector(c).innerText=a,h(10);else{document.getElementById("lot_number").value=a.lot_number,document.getElementById("captcha_output").value=a.captcha_output,document.getElementById("pass_token").value=a.pass_token,document.getElementById("gen_time").value=a.gen_time,document.querySelector(c).innerText="DONE SOLVING CAPTCHA",e.innerText="Captcha Solved";return}},onerror(a){console.log(a.response),document.querySelector(c).innerText="Something is Wrong"}})}();return}document.title=a+"--"+f;try{document.querySelector(c).innerText="Waiting for "+a+"-seconds for captcha to be solved"}catch(g){}return setTimeout(()=>{h(--a)},1e3)};a("[class*=geetest_btn_click]",a=>{d=document.querySelector(".geetest_holder"),e=document.createElement("button"),e.setAttribute("class","title"),e.innerText="Click to solve",d.parentNode.insertBefore(e,d.nextSibling),e.addEventListener("click",function(a){a.preventDefault(),g()}),GM_getValue("SolveCaptcha",!1)&&g()},!1,500,100)}()
